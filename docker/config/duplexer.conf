# Duplexer Configuration File
# Copy this to /app/config/duplexer.conf and modify as needed

# Directory Paths
INBOX=/duplex-inbox
OUTBOX=/paperless-consume
LOGFILE=/logs/duplexer.log
BACKUP_DIR=/logs/backup

# Processing Settings
MAX_WAIT_TIME=300                    # Maximum seconds to wait for second file
FILE_PATTERN="*.pdf"                 # File pattern to monitor
PROCESS_DELAY=10                     # Seconds to wait after file detection (increased for file transfer completion)

# Logging Configuration
LOG_LEVEL=INFO                       # DEBUG, INFO, WARN, ERROR
LOG_MAX_SIZE=100M                    # Maximum log file size before rotation
LOG_MAX_FILES=5                      # Number of rotated log files to keep

# PDF Processing
SHUFFLE_MODE=A                       # A=alternate pages, B=batch mode  
QUALITY_CHECK=true                   # Validate PDFs before and after processing
PRESERVE_METADATA=true               # Keep original PDF metadata in merged file

# File Order Detection (for duplex scanning)
# The script will automatically detect odd/even pages based on:
# 1. Filename patterns containing "odd" or "even" (highest priority)  
# 2. File creation time: first scanned = odd pages, second = even pages
# This handles common scanner patterns like scan.pdf + scan0001.pdf

# Safety Features
AUTO_BACKUP=true                     # Create backup copies before processing
CLEANUP_TEMP=true                    # Remove temporary files after processing
VERIFY_OUTPUT=true                   # Validate merged PDF before delivery

# Monitoring
HEALTH_CHECK_INTERVAL=60             # Seconds between health checks
STATS_LOGGING=true                   # Log processing statistics